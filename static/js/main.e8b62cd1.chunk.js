(this["webpackJsonpwallet-connect-v2.0-test"]=this["webpackJsonpwallet-connect-v2.0-test"]||[]).push([[0],{277:function(e,t){},353:function(e,t,n){},370:function(e,t){},412:function(e,t){},414:function(e,t){},424:function(e,t){},426:function(e,t){},451:function(e,t){},453:function(e,t){},535:function(e,t){},537:function(e,t){},544:function(e,t){},545:function(e,t){},633:function(e,t,n){"use strict";n.r(t);var r=n(10),c=n.n(r),s=n(128),a=n.n(s),i=n(16),o=(n(353),[].concat(["eip155:1","eip155:10","eip155:100","eip155:137","eip155:42161","eip155:42220"],["eip155:42","eip155:69","eip155:80001","eip155:421611","eip155:44787"])),l=["eth_sendTransaction","personal_sign","eth_signTypedData"],u={name:"React Test Wallet",description:"React Wallet for WalletConnect",url:"https://walletconnect.org/",icons:["https://firebasestorage.googleapis.com/v0/b/nextc-sandbox.appspot.com/o/TestWalletIcon.png?alt=media&token=52e19829-dc99-4de8-b033-5efb0774b4ca"]},p=Object(i.b)({key:"chainsState",default:o}),b=Object(i.b)({key:"chainDataState",default:{}}),j=Object(i.b)({key:"jsonRpcState",default:{}}),d=Object(i.b)({key:"sessionState",default:[]}),f=Object(i.b)({key:"requestListState",default:[]}),x=Object(i.b)({key:"cardState",default:{type:"default"}}),h=Object(i.c)({key:"isConnectedStat",get:function(e){return(0,e.get)(d).length>0}}),O=n(0),m=n.n(O),v=n(2),w=n(15),g=n(77),N=n(9),k=Object(i.b)({key:"accountListState",default:[]}),y=function(e){var t=Object(i.f)(x);return{openRequest:function(n){return Object(v.a)(m.a.mark((function r(){var c,s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==e){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.session.get(n.topic);case 4:c=r.sent,s=c.peer,t({type:"request",data:{requestEvent:n,peer:s}});case 7:case"end":return r.stop()}}),r)})))},resetCard:function(){t({type:"default"})}}},q=function(e){var t=Object(i.e)(x),n=Object(i.e)(k),r=Object(i.f)(d),c=y(e).resetCard,s=function(){var s=Object(v.a)(m.a.mark((function s(){var a,i,o;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(null!==e){s.next=2;break}return s.abrupt("return");case 2:if(n.length){s.next=4;break}return s.abrupt("return");case 4:if("proposal"!==t.type){s.next=13;break}return a=t.data.proposal,console.log("ACTION","approveSession"),i=n.filter((function(e){var t=e.split(":"),n=Object(w.a)(t,2),r=n[0],c=n[1],s="".concat(r,":").concat(c);return a.permissions.blockchain.chains.includes(s)})),s.next=10,e.approve({proposal:a,response:{state:{accounts:i},metadata:Object(N.l)()||u}});case 10:o=s.sent,c(),r([o]);case 13:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}(),a=function(){var n=Object(v.a)(m.a.mark((function n(){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==e){n.next=2;break}return n.abrupt("return");case 2:if("proposal"!==t.type){n.next=8;break}return r=t.data.proposal,console.log("ACTION","rejectSession"),n.next=7,e.reject({proposal:r});case 7:c();case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{approveSession:s,rejectSession:a,ping:function(t){return Object(v.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==e){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,e.ping({topic:t});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.log("not connected");case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))},disconnect:function(t){return Object(v.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==e){n.next=2;break}return n.abrupt("return");case 2:return console.log("ACTION","disconnect"),n.next=5,e.disconnect({topic:t,reason:N.a.USER_DISCONNECTED.format()});case 5:case"end":return n.stop()}}),n)})))}}},E=n(24),C=n(336),S=n.n(C),_=n(22),R=n(344),T=n.n(R).a.create({baseURL:"https://blockchain-api.xyz",timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}});function I(e){return A.apply(this,arguments)}function A(){return(A=Object(v.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/api/namespace/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return J.apply(this,arguments)}function J(){return(J=Object(v.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/api/jsonrpc/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(e){var t=[];return e.forEach((function(e){var n=e.split(":"),r=Object(w.a)(n,1)[0];t.includes(r)||t.push(r)})),t},W=n(93),F=n(8),L=function(e){var t=e.children;return Object(F.jsx)("div",{className:"h-screen w-screen",children:Object(F.jsxs)("div",{className:"container h-full px-4 mx-auto",children:[Object(F.jsx)("div",{className:"flex justify-center items-center h-20",children:Object(F.jsx)("h1",{className:"text-2xl font-bold",children:"Wallet"})}),Object(F.jsx)("div",{className:"main-content pb-10",children:t})]})})},M=n(345),V=function(e){var t=function(e){var t=Object(M.a)(),n=t.register,r=t.handleSubmit,c=t.reset,s=r(function(){var t=Object(v.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.pair({uri:n.uri});case 5:c(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log("error pairing"),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}());return{register:n,onSubmit:s,reset:c}}(e.client),n=t.register,r=t.onSubmit;return Object(F.jsxs)("form",{onSubmit:r,className:"flex flex-col justify-center items-center pt-10",children:[Object(F.jsx)("input",Object(_.a)(Object(_.a)({},n("uri",{required:!0})),{},{placeholder:"wc:5a662cc...",className:"w-80 h-10 bg-gray-100 px-2 border border-gray-900 rounded"})),Object(F.jsx)("button",{type:"reset",className:"flex justify-center items-center mt-4 hover:opacity-50",children:Object(F.jsx)("span",{className:"text-lg text-black font-bold leading-none",children:"reset"})}),Object(F.jsx)("button",{type:"submit",className:"flex justify-center items-center h-10 w-40 bg-green-500 rounded-3xl mt-5 hover:opacity-80 shadow",children:Object(F.jsx)("span",{className:"text-lg text-white font-bold leading-none",children:"pairing"})})]})},U=function(e,t){var n=e.replace("eip155:","");return t.eip155[n]?t.eip155[n].name:""},B=function(e){var t=e.icons,n=e.name,r=e.url,c=e.description;return Object(F.jsxs)("div",{className:"w-80 pt-2",children:[Object(F.jsx)("p",{className:"text-lg font-bold",children:"App"}),Object(F.jsxs)("div",{className:"w-full pt-2",children:[Object(F.jsxs)("div",{className:"flex w-full",children:[Object(F.jsx)("img",{src:t[0],alt:"icon",width:48,height:48,className:"border-2 rounded-lg shadow"}),Object(F.jsxs)("div",{className:"pl-2",children:[Object(F.jsx)("p",{className:"text-sm font-bold",children:n}),Object(F.jsx)("a",{className:"text-sm text-blue-400",href:r,target:"_blank",rel:"noreferrer",children:"App"})]})]}),Object(F.jsx)("div",{className:"w-full pt-1",children:Object(F.jsx)("p",{children:c})})]})]})},z=function(e){var t=e.client,n=Object(i.e)(b),r=Object(i.e)(x),c=q(t),s=c.approveSession,a=c.rejectSession;if("proposal"!==r.type||!r.data||!r.data.proposal||!r.data.proposal.permissions||!r.data.proposal.permissions.blockchain||!r.data.proposal.permissions.blockchain.chains||!r.data.proposal.permissions.blockchain.chains[0]||!r.data.proposal.proposer||!r.data.proposal.proposer.metadata)return Object(F.jsx)(F.Fragment,{});var o=r.data.proposal,l=o.proposer,u=o.permissions;return Object(F.jsxs)("div",{className:"flex flex-col justify-center items-center pt-10",children:[Object(F.jsx)("h2",{className:"text-2xl font-bold",children:"proposal"}),Object(F.jsx)(B,Object(_.a)({},l.metadata)),Object(F.jsxs)("div",{className:"w-80 pt-5",children:[Object(F.jsx)("p",{className:"text-lg font-bold",children:"Chains"}),Object(F.jsx)("ul",{className:"list-disc list-inside",children:u.blockchain.chains.map((function(e){return Object(F.jsx)("li",{children:Object(F.jsx)("span",{children:U(e,n)})},"chain_".concat(e))}))})]}),Object(F.jsx)("div",{className:"w-80 pt-5",children:Object(F.jsx)("p",{className:"text-lg font-bold",children:"Chains"})}),Object(F.jsxs)("div",{className:"w-80 pt-5",children:[Object(F.jsx)("p",{className:"text-lg font-bold",children:"Methods"}),Object(F.jsx)("ul",{className:"list-disc list-inside",children:u.jsonrpc.methods.map((function(e){return Object(F.jsx)("li",{children:Object(F.jsx)("span",{children:e})},e)}))})]}),Object(F.jsxs)("div",{className:"flex justify-between items-center w-80 pt-5",children:[Object(F.jsx)("button",{onClick:s,className:"flex justify-center items-center h-8 w-24 bg-blue-600 rounded-2xl shadow hover:opacity-80",children:Object(F.jsx)("span",{className:"text-white text-base font-bold leading-none pb-0.5",children:"approve"})}),Object(F.jsx)("button",{onClick:a,className:"flex justify-center items-center h-8 w-24 bg-red-500 rounded-2xl shadow hover:opacity-80",children:Object(F.jsx)("span",{className:"text-white text-base font-bold leading-none pb-0.5",children:"reject"})})]})]})},H=function(e){var t=e.client,n=Object(i.e)(b),r=Object(i.e)(d),c=Object(i.e)(f),s=q(t),a=(s.ping,s.disconnect),o=y(t).openRequest;return r&&r.length&&r[0]&&r[0].permissions&&r[0].permissions.blockchain?Object(F.jsxs)("div",{className:"flex flex-col justify-center items-center pt-10",children:[Object(F.jsx)("h2",{className:"text-2xl font-bold",children:"Session"}),Object(F.jsx)(B,Object(_.a)({},r[0].peer.metadata)),Object(F.jsxs)("div",{className:"w-80 pt-2",children:[Object(F.jsx)("p",{className:"text-lg font-bold",children:"Accounts"}),Object(F.jsx)("ul",{className:"list-disc list-inside w-full",children:r[0].state.accounts.map((function(e,t){return Object(F.jsxs)("li",{className:"\n                w-full\n                ".concat(0===t?"pt-1":"pt-4","\n              "),children:[U(e.split(":")[1],n),Object(F.jsx)("span",{className:"block",children:e.split(":")[2]})]},"account_".concat(e,"_").concat(t))}))})]}),Object(F.jsxs)("div",{className:"w-80 pt-2",children:[Object(F.jsx)("p",{className:"text-lg font-bold",children:"Networks"}),Object(F.jsx)("ul",{className:"list-disc list-inside",children:r[0].permissions.blockchain.chains.map((function(e){return Object(F.jsx)("li",{children:U(e,n)},"chain_".concat(e))}))})]}),Object(F.jsxs)("div",{className:"w-80 pt-5",children:[Object(F.jsx)("p",{className:"text-lg font-bold",children:"Requests"}),c.length>0?Object(F.jsx)("ul",{className:"w-full list-disc list-inside",children:c.map((function(e){return Object(F.jsxs)("li",{className:"w-full",children:[Object(F.jsx)("span",{children:e.chainId&&U(e.chainId,n)}),Object(F.jsxs)("button",{onClick:o(e),className:"relative w-full h-8 border border-blue-600 rounded-lg text-blue-600 text-lg font-bold ml-4 hover:bg-blue-600 hover:text-white",children:[Object(F.jsxs)("span",{className:"flex h-3 w-3 absolute top-2 left-3",children:[Object(F.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),Object(F.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-600"})]}),e.request.method]})]},"request_".concat(e.topic))}))}):Object(F.jsx)("p",{className:"text-gray-400 text-base text-center pt-6",children:"none"})]}),Object(F.jsxs)("div",{className:"flex justify-between items-center w-80 pt-20",children:[Object(F.jsx)("button",{className:"flex justify-center items-center w-20 h-8 bg-white border border-gray-500 rounded-full shadow hover:opacity-80",children:Object(F.jsx)("span",{className:"text-base leading-none",children:"ping"})}),Object(F.jsx)("button",{className:"flex justify-center items-center w-40 h-8 bg-red-400 rounded-full shadow hover:opacity-80",onClick:a(r[r.length-1].topic),children:Object(F.jsx)("span",{className:"text-white text-base leading-none",children:"disconnect!"})})]})]}):Object(F.jsx)(F.Fragment,{})},K=function(e){var t=e.client,n=e.wallet,r=Object(i.e)(x),c=Object(i.e)(b),s=function(e,t){var n=Object(i.e)(p),r=Object(i.e)(x),c=Object(i.e)(f),s=Object(i.f)(f),a=y(e).resetCard,o=function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(c.filter((function(e){return e.request.id!==t.request.id})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var c=Object(v.a)(m.a.mark((function c(){var s,i,l,u,p;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(null!==e){c.next=2;break}return c.abrupt("return");case 2:if(null!==t){c.next=4;break}return c.abrupt("return");case 4:if("request"!==r.type){c.next=23;break}return s=r.data.requestEvent,c.prev=6,i=s.chainId||n[0],c.next=10,t.request(s.request,{chainId:i});case 10:l=c.sent,u=Object(W.formatJsonRpcResult)(s.request.id,l),e.respond({topic:s.topic,response:u}),c.next=20;break;case 15:c.prev=15,c.t0=c.catch(6),console.log(c.t0),p=Object(W.formatJsonRpcError)(s.request.id,c.t0.message),e.respond({topic:s.topic,response:p});case 20:return c.next=22,o(s);case 22:a();case 23:case"end":return c.stop()}}),c,null,[[6,15]])})));return function(){return c.apply(this,arguments)}}(),u=function(){var t=Object(v.a)(m.a.mark((function t(){var n,c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e){t.next=2;break}return t.abrupt("return");case 2:if("request"!==r.type){t.next=10;break}return n=r.data.requestEvent,c=N.a.JSONRPC_REQUEST_METHOD_REJECTED.format(),s={id:n.request.id,jsonrpc:n.request.jsonrpc,error:c},e.respond({topic:n.topic,response:s}),t.next=9,o(n);case 9:a();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{approveRequest:l,rejectRequest:u}}(t,n),a=s.approveRequest,o=s.rejectRequest;if("request"!==r.type)return Object(F.jsx)(F.Fragment,{});var l=r.data.requestEvent,u=l.request,j=l.chainId;return Object(F.jsxs)("div",{className:"flex flex-col justify-center items-center pt-10",children:[Object(F.jsx)("h2",{className:"text-2xl font-bold",children:"Request"}),Object(F.jsx)(B,Object(_.a)({},r.data.peer.metadata)),j&&Object(F.jsxs)("div",{className:"w-80 pt-5",children:[Object(F.jsx)("h3",{className:"text-lg font-bold",children:"Chain"}),Object(F.jsxs)("p",{children:[U(j,c)," (",j,")"]})]}),Object(F.jsxs)("div",{className:"w-80 pt-5",children:[Object(F.jsx)("h3",{className:"text-lg font-bold",children:"ID"}),Object(F.jsx)("p",{children:u.id})]}),Object(F.jsxs)("div",{className:"w-80 pt-5",children:[Object(F.jsx)("h3",{className:"text-lg font-bold",children:"Methods"}),Object(F.jsx)("p",{children:u.method})]}),Object(F.jsxs)("div",{className:"w-80 pt-5",children:[Object(F.jsx)("h3",{className:"text-lg font-bold",children:"Params"}),Array.isArray(u.params)?Object(F.jsx)("ul",{className:"w-full whitespace-normal",children:u.params.map((function(e,t){return Object(F.jsx)("li",{className:"w-80 pt-2",children:Object(F.jsx)("p",{className:"break-all",children:e})},"request_param_".concat(e,"_").concat(t))}))}):Object(F.jsx)("p",{children:u.params})]}),Object(F.jsxs)("div",{className:"flex justify-between items-center w-80 pt-5 pb-10",children:[Object(F.jsx)("button",{onClick:a,className:"flex justify-center items-center h-8 w-24 bg-blue-600 rounded-2xl shadow hover:opacity-80",children:Object(F.jsx)("span",{className:"text-white text-base font-bold leading-none pb-0.5",children:"approve"})}),Object(F.jsx)("button",{onClick:o,className:"flex justify-center items-center h-8 w-24 bg-red-500 rounded-2xl shadow hover:opacity-80",children:Object(F.jsx)("span",{className:"text-white text-base font-bold leading-none pb-0.5",children:"reject"})})]})]})},Q=function(){return Object(F.jsx)("div",{className:"flex flex-col justify-center items-center pt-10",children:Object(F.jsxs)("div",{className:"flex flex-col justify-center items-center w-80",children:[Object(F.jsx)("a",{className:"text-base text-blue-600 hover:text-blue-300",href:"https://react-app.walletconnect.com/",target:"_blank",rel:"noreferrer",children:"Test Dapp"}),Object(F.jsx)("a",{className:"text-base text-blue-600 hover:text-blue-300",href:"https://walletconnect.com/",target:"_blank",rel:"noreferrer",children:"WalletConnect App"}),Object(F.jsx)("a",{className:"text-base text-blue-600 hover:text-blue-300",href:"https://docs.walletconnect.com/",target:"_blank",rel:"noreferrer",children:"Docs"}),Object(F.jsx)("a",{className:"text-base text-blue-600 hover:text-blue-300",href:"https://github.com/YutaSugimura/WalletConnect-Wallet-App",target:"_blank",rel:"noreferrer",children:"gitbhub"})]})})},Y=function(){var e=function(e){var t=Object(r.useState)(null),n=Object(w.a)(t,2),c=n[0],s=n[1];return Object(r.useEffect)((function(){null===c&&Object(v.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.b.init({controller:!0,relayProvider:"wss://relay.walletconnect.org",apiKey:"08b95c9bd0faed1dd09463f0022e8de6",metadata:u,logger:(null===e||void 0===e?void 0:e.debug)?"debug":void 0});case 2:n=t.sent,s(n);case 4:case"end":return t.stop()}}),t)})))()}),[c]),c}(),t=function(){var e=Object(i.e)(p),t=Object(i.f)(k),n=Object(r.useState)(null),c=Object(w.a)(n,2),s=c[0],a=c[1];return Object(r.useEffect)((function(){null===s&&Object(v.a)(m.a.mark((function n(){var r,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.a.init({chains:e});case 2:return r=n.sent,a(r),n.next=6,r.getAccounts();case 6:(c=n.sent)&&t(Object(E.a)(c));case 8:case"end":return n.stop()}}),n)})))()}),[]),s}(),n=Object(i.e)(h),c=Object(i.e)(x);return function(){var e=Object(i.e)(p),t=Object(i.f)(b);Object(r.useEffect)((function(){Object(v.a)(m.a.mark((function n(){var r,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=P(e),c={},n.next=4,Promise.all(r.map(function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:n&&(c[t]=n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 4:t(Object(_.a)({},c));case 5:case"end":return n.stop()}}),n)})))()}),[])}(),function(){var e=Object(i.e)(p),t=Object(i.f)(j);Object(r.useEffect)((function(){Object(v.a)(m.a.mark((function n(){var r,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=P(e),c={},n.next=4,Promise.all(r.map(function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:"undefined"!==typeof n&&(c[t]=n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 4:t(Object(_.a)({},c));case 5:case"end":return n.stop()}}),n)})))()}),[])}(),function(e,t){var n=Object(i.e)(p),c=Object(i.e)(j),s=Object(i.f)(d),a=Object(i.f)(x),o=Object(i.d)(f),u=Object(w.a)(o,2),b=u[0],h=u[1],O=Object(r.useCallback)(function(){var t=Object(v.a)(m.a.mark((function t(n,r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.respond({topic:n,response:r});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e]);Object(r.useEffect)((function(){var r=function(){var r=Object(v.a)(m.a.mark((function r(){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==e){r.next=2;break}return r.abrupt("return");case 2:e.on(g.a.session.proposal,function(){var t=Object(v.a)(m.a.mark((function t(r){var c,s,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("EVENT","session_proposal"),c=[],n.forEach((function(e){var t=e.split(":"),n=Object(w.a)(t,1)[0];c.includes(n)||c.push(n)})),s=[],r.permissions.blockchain.chains.forEach((function(e){n.includes(e)||s.push(e)})),!s.length){t.next=7;break}return t.abrupt("return",e.reject({proposal:r}));case 7:if(i=[],r.permissions.jsonrpc.methods.forEach((function(e){c.includes("eip155")&&l.includes(e)||i.push(e)})),!i.length){t.next=11;break}return t.abrupt("return",e.reject({proposal:r}));case 11:a({type:"proposal",data:{proposal:r}});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.on(g.a.session.request,function(){var e=Object(v.a)(m.a.mark((function e(r){var s,a,i,o,l,u,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:if(console.log("EVENT","session_request",r.request),s=r.chainId||n[0],a=s.split(":"),i=Object(w.a)(a,1),o=i[0],e.prev=5,!c[o].methods.sign.includes(r.request.method)){e.next=11;break}h([].concat(Object(E.a)(b),[r])),e.next=17;break;case 11:return e.next=13,t.request(r.request,{chainId:s});case 13:return l=e.sent,u=Object(W.formatJsonRpcResult)(r.request.id,l),e.next=17,O(r.topic,u);case 17:e.next=25;break;case 19:return e.prev=19,e.t0=e.catch(5),console.log(e.t0),p=Object(W.formatJsonRpcError)(r.request.id,e.t0.message),e.next=25,O(r.topic,p);case 25:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(t){return e.apply(this,arguments)}}()),e.on(g.a.session.created,Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("EVENT","session_created"),s(e.session.values);case 2:case"end":return t.stop()}}),t)})))),e.on(g.a.session.deleted,Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("EVENT","session_deleted"),s(e.session.values);case 2:case"end":return t.stop()}}),t)}))));case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();null!==e&&(console.log("run start"),r())}),[e])}(e,t),function(e){var t=Object(i.f)(d),n=Object(i.f)(f);Object(r.useEffect)((function(){var r=function(){var r=Object(v.a)(m.a.mark((function r(){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==e){r.next=2;break}return r.abrupt("return");case 2:console.log("ACTION","checkPersisted"),n(Object(E.a)(e.session.history.pending)),t(Object(E.a)(e.session.values));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();null!==e&&r()}),[e])}(e),"request"===c.type?Object(F.jsx)(K,{client:e,wallet:t}):"proposal"===c.type?Object(F.jsx)(z,{client:e}):n?Object(F.jsx)(H,{client:e}):Object(F.jsx)(V,{client:e})},G=function(){return Object(F.jsxs)(L,{children:[Object(F.jsx)(Y,{}),Object(F.jsx)(Q,{})]})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,636)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};a.a.render(Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsx)(i.a,{children:Object(F.jsx)(G,{})})}),document.getElementById("root")),X()}},[[633,1,2]]]);
//# sourceMappingURL=main.e8b62cd1.chunk.js.map